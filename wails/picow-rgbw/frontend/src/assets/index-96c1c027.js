var yt=Object.defineProperty;var kt=(t,e,n)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var De=(t,e,n)=>(kt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function V(){}function ae(t,e){for(const n in e)t[n]=e[n];return t}function at(t){return t()}function Ze(){return Object.create(null)}function de(t){t.forEach(at)}function dt(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function St(t){return Object.keys(t).length===0}function $t(t,e,n,r){if(t){const s=ht(t,e,n,r);return t[0](s)}}function ht(t,e,n,r){return t[1]&&r?ae(n.ctx.slice(),t[1](r(e))):n.ctx}function Ct(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)l[i]=e.dirty[i]|s[i];return l}return e.dirty|s}return e.dirty}function Et(t,e,n,r,s,l){if(s){const o=ht(e,n,r,l);t.p(o,s)}}function Ot(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Oe(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function xe(t){return t??""}function u(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Ue(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function Te(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function F(t){return document.createTextNode(t)}function O(){return F(" ")}function gt(){return F("")}function I(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $e(t){return t===""?null:+t}function Tt(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function G(t,e){t.value=e??""}function et(t,e,n){for(let r=0;r<t.options.length;r+=1){const s=t.options[r];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function qt(t){const e=t.querySelector(":checked");return e&&e.__value}function Ce(t,e,n){t.classList.toggle(e,!!n)}function Lt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}let Be;function Me(t){Be=t}function mt(){if(!Be)throw new Error("Function called outside component initialization");return Be}function Mt(t){mt().$$.on_mount.push(t)}function He(){const t=mt();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=Lt(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}const Se=[],qe=[];let Ee=[];const Fe=[],Nt=Promise.resolve();let Re=!1;function Pt(){Re||(Re=!0,Nt.then(_t))}function je(t){Ee.push(t)}function Bt(t){Fe.push(t)}const ze=new Set;let ke=0;function _t(){if(ke!==0)return;const t=Be;do{try{for(;ke<Se.length;){const e=Se[ke];ke++,Me(e),Ht(e.$$)}}catch(e){throw Se.length=0,ke=0,e}for(Me(null),Se.length=0,ke=0;qe.length;)qe.pop()();for(let e=0;e<Ee.length;e+=1){const n=Ee[e];ze.has(n)||(ze.add(n),n())}Ee.length=0}while(Se.length);for(;Fe.length;)Fe.pop()();Re=!1,ze.clear(),Me(t)}function Ht(t){if(t.fragment!==null){t.update(),de(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(je)}}function It(t){const e=[],n=[];Ee.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Ee=e}const Ae=new Set;let be;function Ne(){be={r:0,c:[],p:be}}function Pe(){be.r||de(be.c),be=be.p}function E(t,e){t&&t.i&&(Ae.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(Ae.has(t))return;Ae.add(t),be.c.push(()=>{Ae.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Je(t,e){const n={},r={},s={$$scope:1};let l=t.length;for(;l--;){const o=t[l],i=e[l];if(i){for(const c in o)c in i||(r[c]=1);for(const c in i)s[c]||(n[c]=i[c],s[c]=1);t[l]=i}else for(const c in o)s[c]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Ge(t){return typeof t=="object"&&t!==null?t:{}}function At(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function re(t){t&&t.c()}function x(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),je(()=>{const l=t.$$.on_mount.map(at).filter(dt);t.$$.on_destroy?t.$$.on_destroy.push(...l):de(l),t.$$.on_mount=[]}),s.forEach(je)}function ee(t,e){const n=t.$$;n.fragment!==null&&(It(n.after_update),de(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){t.$$.dirty[0]===-1&&(Se.push(t),Pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ce(t,e,n,r,s,l,o,i=[-1]){const c=Be;Me(t);const f=t.$$={fragment:null,ctx:[],props:l,update:V,not_equal:s,bound:Ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ze(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};o&&o(f.root);let m=!1;if(f.ctx=n?n(t,e.props||{},(_,v,...$)=>{const S=$.length?$[0]:v;return f.ctx&&s(f.ctx[_],f.ctx[_]=S)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](S),m&&jt(t,_)),v}):[],f.update(),m=!0,de(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const _=Tt(e.target);f.fragment&&f.fragment.l(_),_.forEach(B)}else f.fragment&&f.fragment.c();e.intro&&E(t.$$.fragment),x(t,e.target,e.anchor),_t()}Me(c)}class ue{constructor(){De(this,"$$");De(this,"$$set")}$destroy(){ee(this,1),this.$destroy=V}$on(e,n){if(!dt(n))return V;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!St(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dt);function tt(t){let e,n;return{c(){e=Te("title"),n=F(t[0])},m(r,s){A(r,e,s),u(e,n)},p(r,s){s&1&&me(n,r[0])},d(r){r&&B(e)}}}function zt(t){let e,n,r,s=t[0]&&tt(t);const l=t[3].default,o=$t(l,t,t[2],null);return{c(){e=Te("svg"),s&&s.c(),n=gt(),o&&o.c(),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox",t[1]),a(e,"class","svelte-c8tyih")},m(i,c){A(i,e,c),s&&s.m(e,null),u(e,n),o&&o.m(e,null),r=!0},p(i,[c]){i[0]?s?s.p(i,c):(s=tt(i),s.c(),s.m(e,n)):s&&(s.d(1),s=null),o&&o.p&&(!r||c&4)&&Et(o,l,i,i[2],r?Ct(l,i[2],c,null):Ot(i[2]),null),(!r||c&2)&&a(e,"viewBox",i[1])},i(i){r||(E(o,i),r=!0)},o(i){P(o,i),r=!1},d(i){i&&B(e),s&&s.d(),o&&o.d(i)}}}function Ft(t,e,n){let{$$slots:r={},$$scope:s}=e,{title:l=null}=e,{viewBox:o}=e;return t.$$set=i=>{"title"in i&&n(0,l=i.title),"viewBox"in i&&n(1,o=i.viewBox),"$$scope"in i&&n(2,s=i.$$scope)},[l,o,s,r]}class We extends ue{constructor(e){super(),ce(this,e,Ft,zt,ie,{title:0,viewBox:1})}}function Rt(t){let e;return{c(){e=Te("path"),a(e,"d","M413.967 276.8c1.06-6.235 1.06-13.518 1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318c4.26-3.118 5.319-8.317 2.13-13.518L418.215 115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186 20.801c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098c-5.318 0-9.577 4.164-10.637 8.318l-8.508 55.117c-12.767 5.2-24.464 12.482-36.171 20.801l-53.186-20.801c-5.319-2.071-10.638 0-12.767 4.164L49.1 187.365c-2.119 4.153-1.061 10.399 2.129 13.518L96.97 235.2c0 7.282-1.06 13.518-1.06 20.8s1.06 13.518 1.06 20.8l-44.668 34.318c-4.26 3.118-5.318 8.317-2.13 13.518L92.721 396.4c2.13 4.164 8.508 6.235 12.767 4.164l53.187-20.801c10.637 8.318 23.394 15.601 36.16 20.801l8.508 55.117c1.069 5.2 5.318 8.318 10.637 8.318h85.098c5.319 0 9.578-4.164 10.638-8.318l8.518-55.117c12.757-5.2 24.464-12.482 36.16-20.801l53.187 20.801c5.318 2.071 10.637 0 12.767-4.164l42.549-71.765c2.129-4.153 1.06-10.399-2.13-13.518l-46.8-34.317zm-158.499 52c-41.489 0-74.46-32.235-74.46-72.8s32.971-72.8 74.46-72.8 74.461 32.235 74.461 72.8-32.972 72.8-74.461 72.8z")},m(n,r){A(n,e,r)},p:V,d(n){n&&B(e)}}}function Ut(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Rt]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=ae(s,r[l]);return e=new We({props:s}),{c(){re(e.$$.fragment)},m(l,o){x(e,l,o),n=!0},p(l,[o]){const i=o&1?Je(r,[r[0],Ge(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){P(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Jt(t,e,n){return t.$$set=r=>{n(0,e=ae(ae({},e),Oe(r)))},e=Oe(e),[e]}class vt extends ue{constructor(e){super(),ce(this,e,Jt,Ut,ie,{})}}function Gt(t){let e,n,r;return{c(){e=Te("path"),n=O(),r=Te("path"),a(e,"d","M363 277h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"),a(r,"d","M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422c-44.3 0-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256c0-44.3 17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z")},m(s,l){A(s,e,l),A(s,n,l),A(s,r,l)},p:V,d(s){s&&(B(e),B(n),B(r))}}}function Wt(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Gt]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=ae(s,r[l]);return e=new We({props:s}),{c(){re(e.$$.fragment)},m(l,o){x(e,l,o),n=!0},p(l,[o]){const i=o&1?Je(r,[r[0],Ge(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){P(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Kt(t,e,n){return t.$$set=r=>{n(0,e=ae(ae({},e),Oe(r)))},e=Oe(e),[e]}class Vt extends ue{constructor(e){super(),ce(this,e,Kt,Wt,ie,{})}}function Xt(t){let e;return{c(){e=Te("path"),a(e,"d","M133.1 128l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H133.1zm61.6 265L188 160h18.5l6.9 233h-18.7zm70.3 0h-18V160h18v233zm52.3 0h-18.6l6.8-233H324l-6.7 233zM364 92h-36l-26.3-23c-3.7-3.2-8.4-5-13.2-5h-64.8c-4.9 0-9.7 1.8-13.4 5L184 92h-36c-17.6 0-30 8.4-30 26h276c0-17.6-12.4-26-30-26z")},m(n,r){A(n,e,r)},p:V,d(n){n&&B(e)}}}function Yt(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Xt]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=ae(s,r[l]);return e=new We({props:s}),{c(){re(e.$$.fragment)},m(l,o){x(e,l,o),n=!0},p(l,[o]){const i=o&1?Je(r,[r[0],Ge(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){P(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Qt(t,e,n){return t.$$set=r=>{n(0,e=ae(ae({},e),Oe(r)))},e=Oe(e),[e]}class Zt extends ue{constructor(e){super(),ce(this,e,Qt,Yt,ie,{})}}function xt(t){let e,n,r,s;return{c(){e=h("div"),a(e,"style",n=`background-color: rgb(${t[0].r*2.55}, ${t[0].g*2.55}, ${t[0].b*2.55});`),a(e,"class","svelte-wm8wq0"),Ce(e,"checked",t[1])},m(l,o){A(l,e,o),r||(s=I(e,"click",t[3]),r=!0)},p(l,[o]){o&1&&n!==(n=`background-color: rgb(${l[0].r*2.55}, ${l[0].g*2.55}, ${l[0].b*2.55});`)&&a(e,"style",n),o&2&&Ce(e,"checked",l[1])},i:V,o:V,d(l){l&&B(e),r=!1,s()}}}function en(t,e,n){const r=He();let{color:s}=e,{checked:l=!1}=e;const o=()=>r("click");return t.$$set=i=>{"color"in i&&n(0,s=i.color),"checked"in i&&n(1,l=i.checked)},[s,l,r,o]}class tn extends ue{constructor(e){super(),ce(this,e,en,xt,ie,{color:0,checked:1})}}function nt(t,e,n){const r=t.slice();return r[6]=e[n],r}function rt(t){let e,n;function r(){return t[4](t[6])}return e=new tn({props:{checked:t[0]===t[6],color:t[6]}}),e.$on("click",r),{c(){re(e.$$.fragment)},m(s,l){x(e,s,l),n=!0},p(s,l){t=s;const o={};l&3&&(o.checked=t[0]===t[6]),l&2&&(o.color=t[6]),e.$set(o)},i(s){n||(E(e.$$.fragment,s),n=!0)},o(s){P(e.$$.fragment,s),n=!1},d(s){ee(e,s)}}}function nn(t){let e,n,r=Le(t[1]),s=[];for(let o=0;o<r.length;o+=1)s[o]=rt(nt(t,r,o));const l=o=>P(s[o],1,1,()=>{s[o]=null});return{c(){e=h("article");for(let o=0;o<s.length;o+=1)s[o].c();a(e,"class","svelte-4xuc5n")},m(o,i){A(o,e,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);n=!0},p(o,[i]){if(i&3){r=Le(o[1]);let c;for(c=0;c<r.length;c+=1){const f=nt(o,r,c);s[c]?(s[c].p(f,i),E(s[c],1)):(s[c]=rt(f),s[c].c(),E(s[c],1),s[c].m(e,null))}for(Ne(),c=r.length;c<s.length;c+=1)l(c);Pe()}},i(o){if(!n){for(let i=0;i<r.length;i+=1)E(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)P(s[i]);n=!1},d(o){o&&B(e),Ue(s,o)}}}function rn(t,e,n){let r=[],{selected:s=null}=e;function l(){localStorage.setItem("color-storage",JSON.stringify(r))}async function o(f){const m=r;for(let _=0;_<m.length;_++){const v=m[_];if(v.r===f.r&&v.g===f.g&&v.b===f.b&&v.w===f.w)return}n(1,r=[f,...m]),l()}async function i(f){const m=r;for(let _=0;_<m.length;_++){const v=m[_];if(v.r===f.r&&v.g===f.g&&v.b===f.b&&v.w===f.w)return n(1,r=[...m.slice(0,_),...m.slice(_+1)]),i(f)}l()}Mt(()=>{n(1,r=JSON.parse(localStorage.getItem("color-storage")||`[
            { "r": 100, "g": 100, "b": 100, "w": 100 },
            { "r": 100, "g": 100, "b": 0, "w": 0 }
        ]`))});const c=f=>n(0,s=f);return t.$$set=f=>{"selected"in f&&n(0,s=f.selected)},[s,r,o,i,c]}class sn extends ue{constructor(e){super(),ce(this,e,rn,nn,ie,{selected:0,add:2,remove:3})}get add(){return this.$$.ctx[2]}get remove(){return this.$$.ctx[3]}}function ln(t){let e,n,r,s,l,o,i,c,f,m,_,v,$,S,L,b,y,T,C,z,p,W,M,X,se,w,N,Y,te,ge;return{c(){e=h("article"),n=h("label"),r=F("Brightness "),s=h("code"),l=F(t[3]),o=O(),i=h("input"),c=O(),f=h("label"),m=F("R "),_=h("code"),v=F(t[0]),$=O(),S=h("input"),L=O(),b=h("label"),y=F("G "),T=h("code"),C=F(t[1]),z=O(),p=h("input"),W=O(),M=h("label"),X=F("B "),se=h("code"),w=F(t[2]),N=O(),Y=h("input"),a(i,"name","brightness"),a(i,"type","range"),a(i,"min",t[4]),a(i,"max",t[5]),a(n,"for","brightness"),a(S,"name","r"),a(S,"type","range"),a(S,"min",0),a(S,"max",100),a(f,"for","r"),a(p,"name","g"),a(p,"type","range"),a(p,"min",0),a(p,"max",100),a(b,"for","g"),a(Y,"name","b"),a(Y,"type","range"),a(Y,"min",0),a(Y,"max",100),a(M,"for","b")},m(j,R){A(j,e,R),u(e,n),u(n,r),u(n,s),u(s,l),u(n,o),u(n,i),G(i,t[3]),u(e,c),u(e,f),u(f,m),u(f,_),u(_,v),u(f,$),u(f,S),G(S,t[0]),u(e,L),u(e,b),u(b,y),u(b,T),u(T,C),u(b,z),u(b,p),G(p,t[1]),u(e,W),u(e,M),u(M,X),u(M,se),u(se,w),u(M,N),u(M,Y),G(Y,t[2]),te||(ge=[I(i,"change",t[6]),I(i,"input",t[6]),I(S,"change",t[7]),I(S,"input",t[7]),I(p,"change",t[8]),I(p,"input",t[8]),I(Y,"change",t[9]),I(Y,"input",t[9])],te=!0)},p(j,[R]){R&8&&me(l,j[3]),R&16&&a(i,"min",j[4]),R&32&&a(i,"max",j[5]),R&8&&G(i,j[3]),R&1&&me(v,j[0]),R&1&&G(S,j[0]),R&2&&me(C,j[1]),R&2&&G(p,j[1]),R&4&&me(w,j[2]),R&4&&G(Y,j[2])},i:V,o:V,d(j){j&&B(e),te=!1,de(ge)}}}function on(t,e,n){const r=He();let{brightnessMin:s=1}=e,{brightnessMax:l=100}=e,{r:o=100}=e,{g:i=100}=e,{b:c=100}=e,{brightness:f=Math.min(o,i,c)}=e;function m(b,y,T){const C=[b,y,T].filter(z=>z>0);n(3,f=Math.min(...C)),r("change",{r:b>=0?b:0,g:y>=0?y:0,b:T>=0?T:0,w:b===y&&b===T?b:0})}function _(b){const y=[o,i,c].filter(p=>p>0),T=Math.min(...y),C=Math.max(...y),z=T-b;if(y.find(p=>p-z>100)){const p=100-C;o>0&&n(0,o+=p),i>0&&n(1,i+=p),c>0&&n(2,c+=p)}else o>0&&n(0,o-=z),i>0&&n(1,i-=z),c>0&&n(2,c-=z);r("change",{r:o>=0?o:0,g:i>=0?i:0,b:c>=0?c:0,w:o===i&&o===c?o:0})}function v(){f=$e(this.value),n(3,f)}function $(){o=$e(this.value),n(0,o)}function S(){i=$e(this.value),n(1,i)}function L(){c=$e(this.value),n(2,c)}return t.$$set=b=>{"brightnessMin"in b&&n(4,s=b.brightnessMin),"brightnessMax"in b&&n(5,l=b.brightnessMax),"r"in b&&n(0,o=b.r),"g"in b&&n(1,i=b.g),"b"in b&&n(2,c=b.b),"brightness"in b&&n(3,f=b.brightness)},t.$$.update=()=>{t.$$.dirty&7&&o>=0&&m(o,i,c),t.$$.dirty&7&&i>=0&&m(o,i,c),t.$$.dirty&7&&c>=0&&m(o,i,c),t.$$.dirty&8&&f>0&&_(f)},[o,i,c,f,s,l,v,$,S,L]}class cn extends ue{constructor(e){super(),ce(this,e,on,ln,ie,{brightnessMin:4,brightnessMax:5,r:0,g:1,b:2,brightness:3})}}function un(t){let e,n,r,s,l,o,i,c,f,m,_,v,$,S,L,b,y,T,C,z,p,W,M,X,se;return{c(){e=h("dialog"),n=h("form"),r=h("label"),s=h("select"),l=h("option"),o=F("Default (Light/Dark)"),c=h("option"),f=F("Custom (Light/Dark)"),_=h("option"),v=F("Green (Light/Dark)"),S=O(),L=h("label"),b=F(`(Api) Server Host\r
      `),y=h("input"),T=O(),C=h("label"),z=F(`(Api) Server Port\r
      `),p=h("input"),W=O(),M=h("button"),M.textContent="OK",l.__value="default",G(l,l.__value),l.selected=i=t[2]==="default",c.__value="custom",G(c,c.__value),c.selected=m=t[2]==="custom",_.__value="green",G(_,_.__value),_.selected=$=t[2]==="green",a(s,"id","themePicker"),a(s,"name","themePicker"),s.required=!0,t[2]===void 0&&je(()=>t[5].call(s)),a(r,"for","themePicker"),a(y,"id","serverHost"),a(y,"name","serverHost"),a(y,"type","text"),y.required=!0,a(L,"for","serverHost"),a(L,"class","svelte-1gf2tcl"),a(p,"id","serverPort"),a(p,"name","serverPort"),a(p,"type","number"),a(p,"min",0),a(p,"max",65535),p.required=!0,a(C,"for","serverPort"),a(C,"class","svelte-1gf2tcl"),a(M,"type","submit"),a(n,"action","#"),a(n,"class","svelte-1gf2tcl"),e.open=t[3]},m(w,N){A(w,e,N),u(e,n),u(n,r),u(r,s),u(s,l),u(l,o),u(s,c),u(c,f),u(s,_),u(_,v),et(s,t[2],!0),u(n,S),u(n,L),u(L,b),u(L,y),G(y,t[0]),u(n,T),u(n,C),u(C,z),u(C,p),G(p,t[1]),u(n,W),u(n,M),X||(se=[I(s,"change",t[5]),I(y,"input",t[6]),I(p,"input",t[7]),I(M,"click",t[4])],X=!0)},p(w,[N]){N&4&&i!==(i=w[2]==="default")&&(l.selected=i),N&4&&m!==(m=w[2]==="custom")&&(c.selected=m),N&4&&$!==($=w[2]==="green")&&(_.selected=$),N&4&&et(s,w[2]),N&1&&y.value!==w[0]&&G(y,w[0]),N&2&&$e(p.value)!==w[1]&&G(p,w[1]),N&8&&(e.open=w[3])},i:V,o:V,d(w){w&&B(e),X=!1,de(se)}}}function fn(t,e,n){const r=He();let{serverHost:s}=e,{serverPort:l}=e,{currentTheme:o="default"}=e,{open:i=!1}=e;function c(){r("submit",{serverHost:s,serverPort:l,currentTheme:o})}function f(){o=qt(this),n(2,o)}function m(){s=this.value,n(0,s)}function _(){l=$e(this.value),n(1,l)}return t.$$set=v=>{"serverHost"in v&&n(0,s=v.serverHost),"serverPort"in v&&n(1,l=v.serverPort),"currentTheme"in v&&n(2,o=v.currentTheme),"open"in v&&n(3,i=v.open)},[s,l,o,i,c,f,m,_]}class an extends ue{constructor(e){super(),ce(this,e,fn,un,ie,{serverHost:0,serverPort:1,currentTheme:2,open:3})}}function dn(t){let e,n,r,s,l,o,i,c;return{c(){e=h("div"),n=h("div"),r=O(),s=h("span"),l=F(t[1]),a(n,"class","background svelte-ydngpm"),a(s,"class","message"),a(e,"class",o=xe(`notification ${t[0]}`)+" svelte-ydngpm")},m(f,m){A(f,e,m),u(e,n),u(e,r),u(e,s),u(s,l),i||(c=I(e,"click",t[3]),i=!0)},p(f,[m]){m&2&&me(l,f[1]),m&1&&o!==(o=xe(`notification ${f[0]}`)+" svelte-ydngpm")&&a(e,"class",o)},i:V,o:V,d(f){f&&B(e),i=!1,c()}}}function hn(t,e,n){const r=He();let{level:s}=e,{message:l}=e;const o=()=>r("click");return t.$$set=i=>{"level"in i&&n(0,s=i.level),"message"in i&&n(1,l=i.message)},[s,l,r,o]}class gn extends ue{constructor(e){super(),ce(this,e,hn,dn,ie,{level:0,message:1})}}function st(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function lt(t){let e,n;function r(){return t[5](t[9])}return e=new gn({props:{level:t[7].level,message:t[7].message}}),e.$on("click",r),{c(){re(e.$$.fragment)},m(s,l){x(e,s,l),n=!0},p(s,l){t=s;const o={};l&1&&(o.level=t[7].level),l&1&&(o.message=t[7].message),e.$set(o)},i(s){n||(E(e.$$.fragment,s),n=!0)},o(s){P(e.$$.fragment,s),n=!1},d(s){ee(e,s)}}}function mn(t){let e,n,r=Le(t[0]),s=[];for(let o=0;o<r.length;o+=1)s[o]=lt(st(t,r,o));const l=o=>P(s[o],1,1,()=>{s[o]=null});return{c(){e=h("div");for(let o=0;o<s.length;o+=1)s[o].c();a(e,"class","notify svelte-10cuyfj")},m(o,i){A(o,e,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t[6](e),n=!0},p(o,[i]){if(i&1){r=Le(o[0]);let c;for(c=0;c<r.length;c+=1){const f=st(o,r,c);s[c]?(s[c].p(f,i),E(s[c],1)):(s[c]=lt(f),s[c].c(),E(s[c],1),s[c].m(e,null))}for(Ne(),c=r.length;c<s.length;c+=1)l(c);Pe()}},i(o){if(!n){for(let i=0;i<r.length;i+=1)E(s[i]);n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)P(s[i]);n=!1},d(o){o&&B(e),Ue(s,o),t[6](null)}}}function _n(t,e,n){let r=[];function s(m){n(0,r=[...r,{level:"info",message:m}])}function l(m){n(0,r=[...r,{level:"warning",message:m}])}function o(m){n(0,r=[...r,{level:"error",message:m}])}let i;const c=m=>{n(0,r=[...r.slice(0,m),...r.slice(m+1)])};function f(m){qe[m?"unshift":"push"](()=>{i=m,n(1,i)})}return t.$$.update=()=>{t.$$.dirty&1&&r.length&&setTimeout(()=>{n(0,r=[...r.slice(1)])},2500)},[r,i,s,l,o,c,f]}class vn extends ue{constructor(e){super(),ce(this,e,_n,mn,ie,{info:2,warning:3,error:4})}get info(){return this.$$.ctx[2]}get warning(){return this.$$.ctx[3]}get error(){return this.$$.ctx[4]}}function pn(t){let e,n,r,s,l,o,i,c;return{c(){e=h("dialog"),n=h("form"),r=h("label"),s=h("input"),l=O(),o=h("button"),o.textContent="OK",a(s,"id","name"),a(s,"name","name"),a(s,"type","text"),s.required=!0,a(r,"for","name"),a(o,"type","submit"),a(n,"action","#"),e.open=t[1]},m(f,m){A(f,e,m),u(e,n),u(n,r),u(r,s),G(s,t[0]),u(n,l),u(n,o),i||(c=[I(s,"input",t[3]),I(o,"click",t[2])],i=!0)},p(f,[m]){m&1&&s.value!==f[0]&&G(s,f[0]),m&2&&(e.open=f[1])},i:V,o:V,d(f){f&&B(e),i=!1,de(c)}}}function bn(t,e,n){const r=He();let{name:s}=e,{open:l=!1}=e;function o(){r("submit",{name:s})}function i(){s=this.value,n(0,s)}return t.$$set=c=>{"name"in c&&n(0,s=c.name),"open"in c&&n(1,l=c.open)},[s,l,o,i]}class wn extends ue{constructor(e){super(),ce(this,e,bn,pn,ie,{name:0,open:1})}}class yn{constructor(e,n){this.server="",this.setServer(e,n)}setServer(e,n){this.server=`http://${e}:${n}`}async getDevices(){const e=`${this.server}/api/v1/devices`,n=await fetch(e);let r=[];if(n.ok){try{r=await n.json()}catch{throw`Unexpected data from "${e}"`}return r}let s=await n.text();throw s?`Request Error to "${e}" [${n.status}]: ${s}`:`Request Error to "${e}": ${n.status}`}async setColor(e,n){if(Array.isArray(e))if(e.length){if(!e)return}else return;const r={addr:Array.isArray(e)?e:[e],color:n},s=`${this.server}/api/v1/color`,l=await fetch(s,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});if(l.ok)return;let o=await l.text();throw o?`Request Error to "${s}" [${l.status}]: ${o}`:`Request Error to "${s}": ${l.status}`}}class kn{constructor(e,n){this.events={devicesUpdated:"devices updated",deviceError:"device error",deviceOffline:"device offline",deviceOnline:"device online",colorChanged:"color changed",wsClose:"websocket close",wsOpen:"websocket open",wsError:"websocket error"},this.eventTarget=new EventTarget,this.server="",this.serverPath="/api/v1/events",this.webSocket=null,this.setServer(e,n)}_connectWebSocket(){this.webSocket=new WebSocket(this.server),this.webSocket.onopen=()=>{console.debug(`ws: onopen: readyState=${this.webSocket.readyState}`),this.dispatch(this.events.wsOpen)},this.webSocket.onmessage=e=>{const n=JSON.parse(e.data);switch(n.eventName){case this.events.colorChanged:const r=n.data;this.dispatch(this.events.colorChanged,r);break;default:console.error(`Sorry, event "${n.eventName}" not found!`)}},this.webSocket.onclose=e=>{this.dispatch(this.events.wsClose),e.reason?console.debug(`ws: onclose, reconnect in a second... (${e.reason})`):console.debug("ws: onclose, reconnect in a second..."),setTimeout(()=>{console.debug(`ws: onclose: ...try reconnecting to "${this.server}"`),this._connectWebSocket()},1e3)},this.webSocket.onerror=e=>{this.dispatch(this.events.wsError),this.webSocket.close()}}setServer(e,n){this.server=`ws://${e}:${n}${this.serverPath}`,this.webSocket&&this.webSocket.close(),this._connectWebSocket()}dispatch(e,n){if(!Object.values(this.events).includes(e))throw`eventName not found: "${e}"`;this.eventTarget.dispatchEvent(new CustomEvent(e,{detail:n}))}devicesUpdated(e){e&&this.eventTarget.addEventListener(this.events.devicesUpdated,e)}deviceError(e){e&&this.eventTarget.addEventListener(this.events.deviceError,e)}deviceOffline(e){e&&this.eventTarget.addEventListener(this.events.deviceOffline,e)}deviceOnline(e){e&&this.eventTarget.addEventListener(this.events.deviceOnline,e)}colorChanged(e){e&&this.eventTarget.addEventListener(this.events.colorChanged,e)}}function pe(t,e,n=null){const r=e.getBoundingClientRect();let s=t.clientX-r.x,l=t.clientY-r.y;n!=null&&n.startFromCenter&&(s=r.width/2,l=r.height/2);const o=document.createElement("span"),i=Math.max(r.width,r.height),c=i/2;o.style.width=o.style.height=`${i}px`,o.style.left=`${s-c}px`,o.style.top=`${l-c}px`,n!=null&&n.mode&&o.classList.add(n.mode),n!=null&&n.reverse&&o.classList.add("ripple__reverse"),o.classList.add("ripple");const f=e.getElementsByClassName("ripple")[0];f&&f.remove(),e.append(o)}function ot(t,e,n){const r=t.slice();return r[32]=e[n],r[33]=e,r[34]=n,r}function Sn(t){let e;return{c(){e=h("link"),a(e,"rel","stylesheet"),a(e,"href","/themes/green.css")},m(n,r){A(n,e,r)},d(n){n&&B(e)}}}function $n(t){let e;return{c(){e=h("link"),a(e,"rel","stylesheet"),a(e,"href","/themes/custom.css")},m(n,r){A(n,e,r)},d(n){n&&B(e)}}}function Cn(t){let e;return{c(){e=h("link"),a(e,"rel","stylesheet"),a(e,"href","/themes/default.css")},m(n,r){A(n,e,r)},d(n){n&&B(e)}}}function it(t){let e,n;return e=new an({props:{open:t[10],serverHost:t[3],serverPort:t[4],currentTheme:t[11]}}),e.$on("submit",t[17]),{c(){re(e.$$.fragment)},m(r,s){x(e,r,s),n=!0},p(r,s){const l={};s[0]&1024&&(l.open=r[10]),s[0]&8&&(l.serverHost=r[3]),s[0]&16&&(l.serverPort=r[4]),s[0]&2048&&(l.currentTheme=r[11]),e.$set(l)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function ct(t){let e,n;return e=new wn({props:{open:t[12],name:t[13]}}),e.$on("submit",t[18]),{c(){re(e.$$.fragment)},m(r,s){x(e,r,s),n=!0},p(r,s){const l={};s[0]&4096&&(l.open=r[12]),s[0]&8192&&(l.name=r[13]),e.$set(l)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function ut(t){let e,n,r,s,l,o,i,c,f=t[32].name+"",m,_,v,$=t[32].data.map(ft).join(", ")+"",S,L,b,y,T,C,z,p,W,M;C=new vt({});function X(...w){return t[19](t[32],t[33],t[34],...w)}function se(...w){return t[20](t[32],...w)}return{c(){e=h("fieldset"),n=h("div"),r=O(),s=h("div"),s.innerHTML='<div class="online-indicator__inner svelte-1iq51ut"></div>',l=O(),o=h("div"),i=h("div"),c=h("b"),m=F(f),_=O(),v=h("code"),S=F($),L=O(),b=h("div"),y=h("div"),T=h("button"),re(C.$$.fragment),z=O(),a(n,"class","background svelte-1iq51ut"),a(s,"class","online-indicator svelte-1iq51ut"),Ce(s,"online",t[2].includes(`${t[32].host}:${t[32].port}`)),a(i,"class","devices-list-item__address svelte-1iq51ut"),a(v,"class","devices-list-item__color-preview svelte-1iq51ut"),a(o,"class","content svelte-1iq51ut"),a(T,"class","secondary outline svelte-1iq51ut"),a(y,"class","settings svelte-1iq51ut"),a(b,"class","actions svelte-1iq51ut"),a(e,"class","devices-list-item svelte-1iq51ut"),Ce(e,"checked",t[5].includes(`${t[32].host}:${t[32].port}`))},m(w,N){A(w,e,N),u(e,n),u(e,r),u(e,s),u(e,l),u(e,o),u(o,i),u(i,c),u(c,m),u(o,_),u(o,v),u(v,S),u(e,L),u(e,b),u(b,y),u(y,T),x(C,T,null),u(e,z),p=!0,W||(M=[I(T,"click",X),I(e,"click",se)],W=!0)},p(w,N){t=w,(!p||N[0]&6)&&Ce(s,"online",t[2].includes(`${t[32].host}:${t[32].port}`)),(!p||N[0]&2)&&f!==(f=t[32].name+"")&&me(m,f),(!p||N[0]&2)&&$!==($=t[32].data.map(ft).join(", ")+"")&&me(S,$),(!p||N[0]&34)&&Ce(e,"checked",t[5].includes(`${t[32].host}:${t[32].port}`))},i(w){p||(E(C.$$.fragment,w),p=!0)},o(w){P(C.$$.fragment,w),p=!1},d(w){w&&B(e),ee(C),W=!1,de(M)}}}function En(t){let e,n,r,s,l,o,i,c,f,m,_,v,$,S,L,b,y,T,C,z,p,W,M,X,se,w,N,Y,te,ge,j,R,fe,_e,d,k,Q,K,he,H,ne,le,Ke;function Ve(g,q){if(g[11]==="default")return Cn;if(g[11]==="custom")return $n;if(g[11]==="green")return Sn}let we=Ve(t),oe=we&&we(t),pt={};r=new vn({props:pt}),t[16](r);let U=t[10]&&it(t),J=t[12]&&ct(t),ve=Le(t[1]),D=[];for(let g=0;g<ve.length;g+=1)D[g]=ut(ot(t,ve,g));const bt=g=>P(D[g],1,1,()=>{D[g]=null});C=new Vt({}),M=new Zt({});function wt(g){t[24](g)}let Xe={};return t[8]!==void 0&&(Xe.selected=t[8]),w=new sn({props:Xe}),t[23](w),qe.push(()=>At(w,"selected",wt)),te=new cn({props:{r:t[8]?t[8].r:100,g:t[8]?t[8].g:100,b:t[8]?t[8].b:100}}),te.$on("change",t[25]),k=new vt({}),{c(){oe&&oe.c(),e=gt(),n=O(),re(r.$$.fragment),s=O(),l=h("main"),U&&U.c(),o=O(),J&&J.c(),i=O(),c=h("section"),f=h("h3"),f.innerHTML="<u>Devices</u>",m=O(),_=h("article");for(let g=0;g<D.length;g+=1)D[g].c();v=O(),$=h("section"),S=h("h3"),S.innerHTML="<u>Control</u>",L=O(),b=h("div"),y=h("button"),T=h("div"),re(C.$$.fragment),z=O(),p=h("button"),W=h("div"),re(M.$$.fragment),se=O(),re(w.$$.fragment),Y=O(),re(te.$$.fragment),ge=O(),j=h("footer"),R=h("nav"),fe=h("span"),_e=h("button"),d=h("div"),re(k.$$.fragment),Q=O(),K=h("button"),K.textContent="OFF",he=O(),H=h("button"),H.textContent="ON / SET",a(c,"class","devices"),a(T,"class","icon svelte-1iq51ut"),a(y,"class","add-item svelte-1iq51ut"),a(W,"class","icon svelte-1iq51ut"),a(p,"class","outline secondary remove-item svelte-1iq51ut"),p.disabled=X=!t[8],a(b,"class","actions svelte-1iq51ut"),a($,"class","control"),a(l,"class","container svelte-1iq51ut"),a(d,"class","icon svelte-1iq51ut"),a(_e,"class","contrast svelte-1iq51ut"),a(K,"class","secondary svelte-1iq51ut"),a(H,"class","svelte-1iq51ut"),a(fe,"class","svelte-1iq51ut"),a(j,"class","container svelte-1iq51ut")},m(g,q){oe&&oe.m(document.head,null),u(document.head,e),A(g,n,q),x(r,g,q),A(g,s,q),A(g,l,q),U&&U.m(l,null),u(l,o),J&&J.m(l,null),u(l,i),u(l,c),u(c,f),u(c,m),u(c,_);for(let ye=0;ye<D.length;ye+=1)D[ye]&&D[ye].m(_,null);u(l,v),u(l,$),u($,S),u($,L),u($,b),u(b,y),u(y,T),x(C,T,null),u(b,z),u(b,p),u(p,W),x(M,W,null),u($,se),x(w,$,null),u($,Y),x(te,$,null),A(g,ge,q),A(g,j,q),u(j,R),u(R,fe),u(fe,_e),u(_e,d),x(k,d,null),u(fe,Q),u(fe,K),u(fe,he),u(fe,H),ne=!0,le||(Ke=[I(y,"click",t[21]),I(p,"click",t[22]),I(_e,"click",t[26]),I(K,"click",t[27]),I(H,"click",t[28])],le=!0)},p(g,q){we!==(we=Ve(g))&&(oe&&oe.d(1),oe=we&&we(g),oe&&(oe.c(),oe.m(e.parentNode,e)));const ye={};if(r.$set(ye),g[10]?U?(U.p(g,q),q[0]&1024&&E(U,1)):(U=it(g),U.c(),E(U,1),U.m(l,o)):U&&(Ne(),P(U,1,1,()=>{U=null}),Pe()),g[12]?J?(J.p(g,q),q[0]&4096&&E(J,1)):(J=ct(g),J.c(),E(J,1),J.m(l,i)):J&&(Ne(),P(J,1,1,()=>{J=null}),Pe()),q[0]&28710){ve=Le(g[1]);let Z;for(Z=0;Z<ve.length;Z+=1){const Qe=ot(g,ve,Z);D[Z]?(D[Z].p(Qe,q),E(D[Z],1)):(D[Z]=ut(Qe),D[Z].c(),E(D[Z],1),D[Z].m(_,null))}for(Ne(),Z=ve.length;Z<D.length;Z+=1)bt(Z);Pe()}(!ne||q[0]&256&&X!==(X=!g[8]))&&(p.disabled=X);const Ye={};!N&&q[0]&256&&(N=!0,Ye.selected=g[8],Bt(()=>N=!1)),w.$set(Ye);const Ie={};q[0]&256&&(Ie.r=g[8]?g[8].r:100),q[0]&256&&(Ie.g=g[8]?g[8].g:100),q[0]&256&&(Ie.b=g[8]?g[8].b:100),te.$set(Ie)},i(g){if(!ne){E(r.$$.fragment,g),E(U),E(J);for(let q=0;q<ve.length;q+=1)E(D[q]);E(C.$$.fragment,g),E(M.$$.fragment,g),E(w.$$.fragment,g),E(te.$$.fragment,g),E(k.$$.fragment,g),ne=!0}},o(g){P(r.$$.fragment,g),P(U),P(J),D=D.filter(Boolean);for(let q=0;q<D.length;q+=1)P(D[q]);P(C.$$.fragment,g),P(M.$$.fragment,g),P(w.$$.fragment,g),P(te.$$.fragment,g),P(k.$$.fragment,g),ne=!1},d(g){g&&(B(n),B(s),B(l),B(ge),B(j)),oe&&oe.d(g),B(e),t[16](null),ee(r,g),U&&U.d(),J&&J.d(),Ue(D,g),ee(C),ee(M),t[23](null),ee(w),ee(te),ee(k),le=!1,de(Ke)}}}function On(t,e,n){localStorage.setItem(`${t}:${e}`,n||"")}function Tn(t,e){return localStorage.getItem(`${t}:${e}`)||`${t}:${e}`}const ft=t=>t.duty.toString();function qn(t,e,n){let r,s=!1,l=[],o=[],i=[],c,f,m,_=null,v={r:100,g:100,b:100,w:100},$=!1,S,L,b="default",y=!1,T="",C=null;async function z(d,k){if(console.debug(`init: host=${d}, port=${k}`),c?c.setServer(d,k):c=new kn(S,L),f){f.setServer(d,k);return}else n(6,f=new yn(S,L));c.devicesUpdated(async({detail:H})=>{console.debug(`event: "${c.events.devicesUpdated}": detail=${H}`)}),c.deviceError(({detail:H})=>{r.error(`event: "${c.events.deviceError}": ${H}`)}),c.deviceOnline(({detail:H})=>{console.debug(`event: "${c.events.deviceOnline}": detail=${H}`);const ne=l.find(le=>le.host===H.host&&le.port===H.port);ne&&(ne.offline=!1),n(1,l)}),c.deviceOffline(({detail:H})=>{console.debug(`event: "${c.events.deviceOffline}": detail=${H}`);const ne=l.find(le=>le.host===H.host&&le.port===H.port);ne&&(ne.offline=!0),n(1,l)}),c.colorChanged(({detail:H})=>{console.debug(`event: "${c.events.colorChanged}":`,H);const ne=l.find(le=>le.host===H.host&&le.port===H.port);ne&&(ne.data=H.data),n(1,l)});let Q=!1,K=!1;c.eventTarget.addEventListener(c.events.wsOpen,async()=>{Q=!1,K=!1,s||n(15,s=!0),r.info(`Connected to "${c.server}"`);try{await p()}catch(H){console.debug("Fetch devices failed:",H)}});let he=async()=>{s&&n(15,s=!1),Q||(r.warning(`Connection to "${c.server} closed."`),Q=!0)};c.eventTarget.addEventListener(c.events.wsClose,he),he=async()=>{K||(r.error(`Connection to "${c.server}" failed!`),K=!0)},c.eventTarget.addEventListener(c.events.wsError,he)}async function p(){try{const d=await f.getDevices();Array.isArray(d)?n(1,l=d.map(k=>({...k,name:Tn(k.host,k.port)}))):(r.error(`Got unexpected data from the server "${f.server}" (data: ${d})`),n(1,l=[]))}catch(d){r.error(`Get Devices Error: ${d}`)}}function W(d){qe[d?"unshift":"push"](()=>{r=d,n(0,r)})}const M=({detail:d})=>{n(3,S=d.serverHost),n(4,L=d.serverPort),n(11,b=d.currentTheme),localStorage.setItem("config",JSON.stringify({serverHost:S,serverPort:L,currentTheme:b})),n(10,$=!1)},X=d=>{C(d),n(12,y=!1)},se=(d,k,Q,K)=>{K.stopPropagation(),pe(K,K.currentTarget,{mode:"secondary"}),n(13,T=d.name),n(14,C=({detail:he})=>{n(1,k[Q].name=he.name||`${d.host}:${d.port}`,l),On(d.host,d.port,he.name)}),n(12,y=!0)},w=(d,k)=>{pe(k,k.currentTarget,{mode:"primary",reverse:k.currentTarget.classList.contains("checked")});const Q=`${d.host}:${d.port}`;if(i.includes(Q)){const K=i.indexOf(Q);n(5,i=[...i.slice(0,K),...i.slice(K+1)])}else i.push(Q),n(5,i)},N=async d=>{pe(d,d.currentTarget,{mode:"primary"}),m.add(v)},Y=async d=>{pe(d,d.currentTarget,{mode:"secondary"}),m.remove(_)};function te(d){qe[d?"unshift":"push"](()=>{m=d,n(7,m)})}function ge(d){_=d,n(8,_)}const j=({detail:d})=>{n(9,v={...d,w:d.r===d.g&&d.r===d.b?d.r:0}),_&&(_.r!==v.r||_.g!==v.g||_.b!==v.b)&&n(8,_=null)},R=d=>{pe(d,d.currentTarget),n(10,$=!$)},fe=async d=>{pe(d,d.currentTarget,{mode:"secondary"});try{f.setColor(i,{r:0,g:0,b:0,w:0})}catch(k){r.error(k)}},_e=d=>{pe(d,d.currentTarget,{mode:"primary"}),console.debug(`set color: ${v.r}, ${v.g}, ${v.b}, ${v.w}`);try{f.setColor(i,v)}catch(k){r.error(k)}};return t.$$.update=()=>{if(t.$$.dirty[0]&1&&r){const d=localStorage.getItem("config");if(d)try{const k=JSON.parse(d);n(3,S=k.serverHost),n(4,L=k.serverPort),k.currentTheme&&n(11,b=k.currentTheme)}catch(k){r.warning(`Loading config from localStorage failed: ${k}`)}}t.$$.dirty[0]&32774&&l&&(s?l.forEach(d=>{const k=`${d.host}:${d.port}`;if(!d.offline&&!o.includes(k))o.push(k);else if(d.offline&&o.includes(k)){const Q=o.indexOf(k);n(2,o=[...o.slice(0,Q),...o.slice(Q+1)])}}):n(2,o=[])),t.$$.dirty[0]&24&&S&&L&&z(S,L)},[r,l,o,S,L,i,f,m,_,v,$,b,y,T,C,s,W,M,X,se,w,N,Y,te,ge,j,R,fe,_e]}class Ln extends ue{constructor(e){super(),ce(this,e,qn,En,ie,{},null,[-1,-1])}}new Ln({target:document.getElementById("app")});
